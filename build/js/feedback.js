function validEmail(e){var t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return t.test(e)}function getFormData(){var e=document.getElementById("feedback-form").elements,t=Object.keys(e).map(function(t){return void 0!==e[t].name?e[t].name:e[t].length>0?e[t].item(0).name:void 0}).filter(function(e,t,n){return n.indexOf(e)==t&&e}),n={};return t.forEach(function(t){if(n[t]=e[t].value,"checkbox"===e[t].type)n[t]=e[t].checked;else if(e[t].length)for(var o=0;o<e[t].length;o++)e[t].item(o).checked&&(n[t]=e[t].item(o).value)}),console.log(n),n}function handleFormSubmit(e){e.preventDefault();var t=getFormData();if(!validEmail(t.Email))return document.getElementById("email-invalid").style.display="block",!1;var n=e.target.action,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){return console.log(o.status,o.statusText),console.log(o.responseText),document.getElementById("feedback-form").style.display="block",document.getElementById("feedback_thanks").style.display="block",!0};var a=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");o.send(a)}function loaded(){console.log();var e=document.getElementById("feedback-form");e.addEventListener("submit",handleFormSubmit,!1)}document.addEventListener("DOMContentLoaded",loaded,!1);